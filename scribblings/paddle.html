<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Paddle</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="file:///Users/mjadud/git/paddle/scribblings/paddle.html" class="tocviewselflink" data-pltdoc="x">Paddle</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="file:///Users/mjadud/git/paddle/scribblings/paddle.html#%28part._.What_is_.Paddle_%29" class="tocviewlink" data-pltdoc="x">What is Paddle?</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="file:///Users/mjadud/git/paddle/scribblings/paddle.html#%28part._.A_.Complete_.Example%29" class="tocviewlink" data-pltdoc="x">A Complete Example</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="file:///Users/mjadud/git/paddle/scribblings/paddle.html#%28part._.To_.Be_.Continued%29" class="tocviewlink" data-pltdoc="x">To Be Continued</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Paddle%29" class="tocsubseclink" data-pltdoc="x">Paddle</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.What_is_.Paddle_%29" class="tocsubseclink" data-pltdoc="x">What is Paddle?</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.A_.Complete_.Example%29" class="tocsubseclink" data-pltdoc="x">A Complete Example</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Setting_up_the_world%29" class="tocsubseclink" data-pltdoc="x">Setting up the world</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Setting_.Up_and_.Running_the_.World%29" class="tocsubseclink" data-pltdoc="x">Setting Up and Running the World</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.To_.Be_.Continued%29" class="tocsubseclink" data-pltdoc="x">To Be Continued</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">7.1</span></div><h2><a name="(part._.Paddle)"></a>Paddle</h2><p><span style="font-style: italic">A paddle is a little like a racket</span>.</p><h3>1<tt>&nbsp;</tt><a name="(part._.What_is_.Paddle_)"></a>What is Paddle?</h3><p>Paddle is a <span style="font-style: italic">microworld</span>. This means that Paddle lets you simulate the world around you. However, the world is a very big place. Therefore, it is best to think of Paddle as a set of tools for simulating a small part of the world: you&rsquo;re going to have to make some assumptions, approximate here and there, and in the end, you&rsquo;ll have a model of the world that lets you explore some idea.</p><p>Paddle is not the first microworld, nor is it the only. It is inspired heavily by <a href="https://ccl.northwestern.edu/netlogo/">NetLogo</a>. NetLogo provides a way to write code for simulating everything from intrepid turtles to flocking birds to viral epidemics. Paddle borrows language and ideas from NetLogo (for consistency) and implements them in Racket.</p><h3>2<tt>&nbsp;</tt><a name="(part._.A_.Complete_.Example)"></a>A Complete Example</h3><p>Here is an example of a paddle that randomly distributes turtles around the world, and then sets them moving in a straight line.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">#lang</span><span class="hspace">&nbsp;</span><span class="RktMeta">racket</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">require</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">paddle</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make-world</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">100</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">create-breed</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">turtle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">turtles</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">create</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">turtles</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">100</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">setup</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">ask</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">turtles</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">xcor</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">random</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">get</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">global</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">world-cols</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">ycor</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">random</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">get</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">global</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">world-rows</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">direction</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">random</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">360</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">go</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">ask</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">turtles</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">move</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">tick-pause</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">/</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">30</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">run-world</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">setup</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">go</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>What follows is a brief walkthrough of the example.</p><h4>2.1<tt>&nbsp;</tt><a name="(part._.Setting_up_the_world)"></a>Setting up the world</h4><p>If you want to create a Paddle world, you need to first require the <span class="RktSym">paddle</span> package.</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktSym">paddle</span><span class="RktPn">)</span></p></blockquote><p>Next, we need to create the world. The world is made up of <span style="font-style: italic">patches</span>, which can be thought of like a checkerboard. Turtles wander over these patches, and can (if they wish) interact with those patches.</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">make-world</span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span></p></blockquote><p><span class="RktSym">make-world</span> is a function that, in its simplest form, takes one parameter. This defines the number of columns and rows of patches in the world&#8212;<wbr></wbr>or, the <span style="font-style: italic">x</span> and <span style="font-style: italic">y</span> dimensions of the world. With this command, I&rsquo;ve said I want a world with 100x100 patches, and it will be displayed in a 600x600 window.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>In microworlds, simulated creatures are most often referred to as <span style="font-style: italic">agents</span>. In NetLogo, they often refer to them as <span style="font-style: italic">turtles</span>; this is because, in the programming language <a href="http://el.media.mit.edu/logo-foundation/index.html">Logo</a>, the "turtle" plays a prominent role (and NetLogo is descended from Logo). I personally like the idea of turtles everywhere, so I will generally use the word <span style="font-style: italic">turtles</span> to mean <span style="font-style: italic">computational agents that wander around and interact with the world and other agents in a simulated environment</span>.</p></blockquote></blockquote></blockquote><p>Next, we need to declare a new breed of agents in our microworld; I&rsquo;ll choose to declare my agents to be turtles. I need to give both the singular and plural form for this new breed of agent. I then create 100 turtles in the world.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">create-breed</span><span class="hspace">&nbsp;</span><span class="RktSym">turtle</span><span class="hspace">&nbsp;</span><span class="RktSym">turtles</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">create</span><span class="hspace">&nbsp;</span><span class="RktSym">turtles</span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span></td></tr></table></blockquote><h4>2.2<tt>&nbsp;</tt><a name="(part._.Setting_.Up_and_.Running_the_.World)"></a>Setting Up and Running the World</h4><p>To run our microworld, we need to provide two functions: <span class="RktSym">setup</span> and <span class="RktSym">go</span>. The <span class="RktSym">setup</span> function is used once when our world is created, and <span class="RktSym">go</span> is used over-and-over. Inside the <span class="RktSym">go</span> function, we wiggle and move our turtles, and after the function is run, the world is redrawn to reflect the changes in our turtles and the world around them.</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">setup</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ask</span><span class="hspace">&nbsp;</span><span class="RktSym">turtles</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">set</span><span class="hspace">&nbsp;</span><span class="RktSym">xcor</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">random</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get</span><span class="hspace">&nbsp;</span><span class="RktSym">global</span><span class="hspace">&nbsp;</span><span class="RktSym">world-cols</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">set</span><span class="hspace">&nbsp;</span><span class="RktSym">ycor</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">random</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get</span><span class="hspace">&nbsp;</span><span class="RktSym">global</span><span class="hspace">&nbsp;</span><span class="RktSym">world-rows</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">set</span><span class="hspace">&nbsp;</span><span class="RktSym">direction</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">random</span><span class="hspace">&nbsp;</span><span class="RktVal">360</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">go</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ask</span><span class="hspace">&nbsp;</span><span class="RktSym">turtles</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">move</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">tick-pause</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">/</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">run-world</span><span class="hspace">&nbsp;</span><span class="RktSym">setup</span><span class="hspace">&nbsp;</span><span class="RktSym">go</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The <span class="RktSym">set</span> and <span class="RktSym">get</span> forms are borrowed from NetLogo. <span class="RktSym">set</span> will set a value for the current agent that is being <span class="RktSym">ask</span>ed to do things. Likewise, when we say <span class="RktSym">get</span>, we will retrieve a value from the current agent. It is possible to set and retrieve values for a <span class="RktSym">patch</span> or for the <span class="RktSym">global</span> environment as well.</p></blockquote></blockquote></blockquote></div></p><p>The <span class="RktSym">setup</span> function <span class="RktSym">asks</span> all of the turtles to do three things. First, we set the <span style="font-style: italic">xcor</span>, or x-coordinate, of each turtle to a <span class="RktSym">random</span> value between zero and the number of columns in the world. Then, we randomize the y-coordinate in the same way; this has the effect of scattering turtles around the world. Lastly, I set the turtle&rsquo;s direction so each turtle has a randomized heading.</p><p>In <span class="RktSym">go</span>, I <span class="RktSym">ask</span> turtles to move forward one patch. (In a world that is 100x100, a move of 1 is 1/100th of the distance across the world.)</p><p>Finally, the <span class="RktSym">setup</span> and <span class="RktSym">go</span> functions are handed off to the <span class="RktSym">run-world</span> function, which then does a bunch of work behind the scenes. Along the way, it runs the <span class="RktSym">setup</span> function once, and <span class="RktSym">go</span> function over-and-over, with a 1/30th of a second pause between runs, which is determined by <span class="RktSym">tick-pause</span>; leaving out the pause will let the simulation run as fast as possible.</p><h3>3<tt>&nbsp;</tt><a name="(part._.To_.Be_.Continued)"></a>To Be Continued</h3><p>This package is under active development. Conversation and collaboration are welcome. Next steps include integrating plotting and logging, additional interface forms, and completing documentation. (Documentation may come later, as I&rsquo;m still exploring the system implementation itself.)</p><p>Optimization will come; a quadtree or similar for agents (so as to optimize <span class="RktSym">sniff</span>) is a likely next step. Likewise, thinking about how the code is broken across forms, and deciding how best to test this world is also important for maintainability.</p></div></div><div id="contextindicator">&nbsp;</div></body></html>